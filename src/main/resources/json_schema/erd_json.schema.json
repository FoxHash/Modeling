{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "title" : "Complete erd in json representation",
  "description" : "An complete graphical model in json representation.",
  "type" : "object",
  "properties" : {
    "model_id" : {
      "description" : "Identification of the model",
      "type" : "string"
    },
    "entities" : {
      "description" : "Entities of the graphical model",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "description" : "Name of the entity",
            "type" : "string"
          },
          "weak_entity" : {
            "description" : "Flag to mark the entity as a weak entity",
            "type" : "boolean"
          },
          "attributes" : {
            "description" : "Connected attributes to this entity",
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "name" : {
                  "description" : "Name of the attribute",
                  "type" : "string"
                },
                "property" : {
                  "description" : "Property of the attribute",
                  "type" : "string",
                  "enum" : [
                    "attribute",
                    "key attribute",
                    "weak key attribute",
                    "compounded value attribute",
                    "multi value attribute",
                    "derived value attribute"
                  ]
                }
              },
              "required" : [
                "name",
                "property"
              ]
            },
            "minItems" : 1
          }
        },
        "required" : [
          "id",
          "weak_entity"
        ]
      }
    },
    "relationships" : {
      "description" : "Relationships of the graphical model",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "description" : "Name of the relationship.",
            "type" : "string"
          },
          "description" : {
            "description" : "Description of the relationship.",
            "type" : "string"
          },
          "attributes" : {
            "description" : "Connected attributes to this entity",
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "name" : {
                  "description" : "Name of the attribute",
                  "type" : "string"
                },
                "property" : {
                  "description" : "Property of the attribute",
                  "type" : "string",
                  "enum" : [
                    "attribute",
                    "key attribute",
                    "weak key attribute",
                    "compounded value attribute",
                    "multi value attribute",
                    "derived value attribute"
                  ]
                }
              },
              "required" : [
                "name",
                "property"
              ]
            }
          }
        },
        "required" : [
          "id",
          "description"
        ]
      }
    },
    "connections" : {
      "description" : "Connections between the relationships and entities of the graphical model",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "description" : "Name of the connection",
            "type" : "string"
          },
          "relationship" : {
            "description" : "Name of the relationship which will be connected",
            "type" : "string"
          },
          "entity" : {
            "description" : "Name of the entity which will be connected",
            "type" : "string"
          },
          "cardinality" : {
            "description" : "Cardinality of the connection between the relationship and the entity",
            "type" : "string"
          }
        },
        "required" : [
          "id",
          "relationship",
          "entity",
          "cardinality"
        ]
      }
    },
    "isa-relationships" : {
      "description" : "Is-a relationships of the graphical model",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "description" : "Name of the is-a relationship.",
            "type" : "string"
          }
        },
        "required" : [
          "id"
        ]
      }
    },
    "isa-connections" : {
      "description" : "Connections between the is-a relationship and the parent entity and the child entities of the graphical model",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "description" : "Name of the connection",
            "type" : "string"
          },
          "connection_type" : {
            "description" : "Connection type, if the connection should establish to the parent entity or to a child entity.",
            "type" : "string",
            "enum" : [
              "child",
              "parent"
            ]
          },
          "isarelationship" : {
            "description" : "Name of the is-a relationship which will be connected",
            "type" : "string"
          },
          "entity" : {
            "description" : "Name of the entity which will be connected",
            "type" : "string"
          }
        },
        "required" : [
          "id",
          "isarelationship",
          "entity",
          "connection_type"
        ]
      }
    }
  }
}